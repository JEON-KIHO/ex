package com.example.controller;

import java.text.ParseException;
import java.util.ArrayList;
import java.util.Date;
import java.util.GregorianCalendar;
import java.util.HashMap;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.ResponseBody;

import com.example.mapper_oracle.CalendarMapper;

@Controller
public class LoginController {
	@Autowired
	CalendarMapper mapper;
	
	@RequestMapping("login")
	public void login() {
		
	}
	
	@RequestMapping("company")
	public void company() {
		
	}
	
	@RequestMapping("interval")
	public void interval() {
		
	}
	
//	@RequestMapping("day.json")
//	@ResponseBody
//	public void day() throws ParseException {
//		GregorianCalendar cal = new GregorianCalendar();
//		
//		for(int y = 2020; y <= 2023; y++) {
//			cal.set(GregorianCalendar.YEAR, y);
//			String year = y+"";
//			
//			for(int m = 1; m <= 12; m++) {
//				cal.set(GregorianCalendar.MONTH, m-1);
//				String month = m+"";
//				if(month.length() == 1) {
//					month = "0" + month;
//				}
//				cal.set(GregorianCalendar.DAY_OF_MONTH, 1);
//				int maxDay = cal.getActualMaximum(GregorianCalendar.DAY_OF_MONTH);
//				
//				for(int d = 1; d <= maxDay; d++) {
//					cal.set(GregorianCalendar.DAY_OF_MONTH, d);
//					String day = d+"";
//					if(day.length() == 1) {
//						day = "0" + day;
//					}
//					Date strDate = cal.getTime();
//					System.out.println(strDate);
//					mapper.insert(strDate);
//				}
//			}
//		}
//	}
	
	@RequestMapping("day.json")
	@ResponseBody
	public ArrayList<HashMap<String, Object>> listJson(String keyword) {
		ArrayList<HashMap<String, Object>> array = new ArrayList<>();
		HashMap<String, Object> map = new HashMap<>();
		map.put("list", mapper.list(keyword));
		map.put("total", mapper.total(keyword));
		array.add(map);
		return array;
	}
	
	@RequestMapping("day")
	public void day() {
	}
}
