package com.example.controller;

import java.text.DateFormat;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.GregorianCalendar;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.ResponseBody;

import com.example.mapper_oracle.CalendarMapper;

@Controller
public class LoginController {
	@Autowired
	CalendarMapper mapper;
	
	@RequestMapping("login")
	public void login() {
		
	}
	
	@RequestMapping("company")
	public void company() {
		
	}
	
	@RequestMapping("interval")
	public void interval() {
		
	}
	
	@RequestMapping("day")
	@ResponseBody
	public void day() throws ParseException {
		GregorianCalendar cal = new GregorianCalendar();
		
		for(int y = 2020; y <= 2023; y++) {
			cal.set(GregorianCalendar.YEAR, y);
			String year = y+"";
			for(int m = 0; m <= 11; m++) {
				cal.set(GregorianCalendar.MONTH, m);
				String month = m+"";
				cal.set(GregorianCalendar.DAY_OF_MONTH, 1);
				int maxDay = cal.getActualMaximum(GregorianCalendar.DAY_OF_MONTH);
				for(int d = 1; d <= maxDay; d++) {
					cal.set(GregorianCalendar.DAY_OF_MONTH, d);
					String day = d+"";
					String strDate = year+"/"+month+"/"+day;
					DateFormat df = new SimpleDateFormat("yyyy/MM/dd");
					Date date = df.parse(strDate);
					mapper.insert(date);
				}
			}
		}
	}
}
